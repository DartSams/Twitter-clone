{% extends "base.html" %}

{% block likes %}
    <div class="post">
        {% for i in user_post %}
            <!-- {{session["username"]}} -->
            <!-- <div style="color: blue;">Author:{{i[0]}}</div> -->
            <!-- <div style="color: blue;">Post Date:{{i[1]}}</div> -->
            <!-- <div style="color: blue;">Post Time:{{i[2]}}</div> -->
            <!-- <div style="color: blue;">Post:{{i[3]}}</div> -->
            <!-- <div style="color: blue;">Post File:{{i[4]}}</div> -->
            <!-- <div style="color: blue;">Placeholder Date:{{i[5]}}</div> -->
            <!-- <div style="color: blue;">Post ID:{{i[6]}}</div> -->

            <a href="/{{i[6]}}">
                <div class="post-detail">
                    {% if i[1] == post_date %}
                        <p class="post-name">By {{i[0]}} - {{i[2]}}</p>

                    {% else %}
                        <p class="post-name">By {{i[0]}} - {{i[5]}}</p>

                    {%endif%}

                    <p class="post-body">{{i[3].capitalize()}}</p>
                    
                    {% if i[4] != None %}
                        {% if 'mp4' == i[4].split(".")[1] %}
                            <video controls width="320" height="240">
                                <source src="/static/preview_img/{{i[4].split('.')[0]}}.{{i[4].split('.')[1]}}" type="video/{{i[4].split('.')[1]}}">
                            Your browser does not support the audio element.
                            </video>

                        {%elif 'mp3' == i[4].split(".")[1]%}
                            <audio controls width="320" height="240">
                                <source src="/static/preview_img/{{i[4].split('.')[0]}}.{{i[4].split('.')[1]}}" type="audio/{{i[4].split('.')[1]}}">
                            Your browser does not support the audio element.
                            </audio>

                        {%endif%}

                        {% for pic_type in ALLOWED_EXTENSIONS%}
                            {% if pic_type == i[4].split(".")[1] %}
                                <img src="/static/preview_img/{{i[4]}}" alt="">
                            {%endif%}
                        {%endfor%}

                    {%endif%}
                </div>
            </a> 
            
            
        {%endfor%}
    </div>
{% endblock %}

{% block replies %}
    <div class="post">
        {%for i in comment_lst %}
            <!-- {{session["username"]}} -->
            <!-- <div style="color: blue;">Author:{{i[0]}}</div>
            <div style="color: blue;">Post Date:{{i[1]}}</div>
            <div style="color: blue;">Post Time:{{i[2]}}</div>
            <div style="color: blue;">Post:{{i[3]}}</div>
            <div style="color: blue;">Post File:{{i[4]}}</div>
            <div style="color: blue;">Placeholder Date:{{i[5]}}</div>
            <div style="color: blue;">Post ID:{{i[6]}}</div> -->
            <div class="post-detail"> 
                {% if i[1] == post_date %}
                    <p class="post-name">By <a href="/{{i[0]}}">{{i[0]}}</a> - {{i[2]}}</p>
                {% else %}
                    <p class="post-name">By <a href="/{{i[0]}}">{{i[0]}}</a> - {{i[5]}}</p>
                {%endif%}

                <p class="post-body">{{i[3].capitalize()}}</p>
                
                {% if i[4] != None %}
                    {% if 'mp4' == i[4].split(".")[1] %}
                        <video controls width="320" height="240">
                            <source src="/static/preview_img/{{i[4].split('.')[0]}}.{{i[4].split('.')[1]}}" type="video/{{i[4].split('.')[1]}}">
                        Your browser does not support the audio element.
                        </video>

                    {%elif 'mp3' == i[4].split(".")[1]%}
                        <audio controls width="320" height="240">
                            <source src="/static/preview_img/{{i[4].split('.')[0]}}.{{i[4].split('.')[1]}}" type="audio/{{i[4].split('.')[1]}}">
                        Your browser does not support the audio element.
                        </audio>

                    {%endif%}

                    {% for pic_type in ALLOWED_EXTENSIONS%}
                        {% if pic_type == i[4].split(".")[1] %}
                            <img src="/static/preview_img/{{i[4]}}" alt="">
                        {%endif%}
                    {%endfor%}
                {%endif%}
            </div>
            
        {%endfor%}
    </div>
{% endblock%}

{% block post_buttons %}
    <div class="likes">
        <!-- {{like_lst}}  -->
        {% for i in user_post %}
            <br>

            <form action="" method="post" class="post-buttons">
                <button id="4" name="Reply" class="Reply" value="{{i[6]}}"><img src="/static/buttons/reply1.png" alt="">Reply</button>  
                <button id="4" name="Retweet" class="Retweet" value="{{i[6]}}"><img src="/static/buttons/retweet.png" alt="">Retweet</button> 
                {% if like_lst %}
                <!-- {{like_lst}} -->
                    {% for j in like_lst %}
                        {% if j[1] == i[6] %}
                            {% if session["username"] == j[0] %}
                                <!-- {{j[0]}}-{{j[1]}} -->
                                <button id="4" name="UnLike" class="Like" value="{{i[6]}}"><img src="/static/buttons/unlike.png" alt="">Like</button>  
                            {%endif%}
                        {%endif%}
                    {%endfor%}
                {%endif%}


                <button id="4" name="Share" class="Share" value="{{i[6]}}"><img src="/static/buttons/black heart.png" alt="">Share</button>  
            </form> 
        {%endfor%}       
    </div>
{% endblock %}

{% block follower %}
    {% for i in followers %}
        {% if i[1] == username %}
            <p>{{i[0]}}</p>
        {%endif%}
    {%endfor%}

{% endblock %}

{% block following %}
    {% for i in following %}
        {% if i[0] == username %}
            <p>{{i[1]}}</p>
        {%endif%}
    {%endfor%}
{% endblock %}